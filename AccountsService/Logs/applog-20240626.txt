{"@t":"2024-06-26T00:07:28.8001702Z","@m":"Error creating account","@i":"696392d8","@l":"Error","@x":"System.Exception: Lastname field is required\r\n   at AccountsService.Services.UserService.RegisterUser(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Services\\UserService.cs:line 40\r\n   at AccountsService.Controllers.AuthController.Register(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Controllers\\AuthController.cs:line 32","@tr":"3ae756bb077c227e59b53f83d000cfb1","@sp":"42d129d153295c09","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"0df356e1-5475-4045-8872-67c903ef1be0","ActionName":"AccountsService.Controllers.AuthController.Register (AccountsService)","RequestId":"0HN4LEEU6ADDD:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN4LEEU6ADDD"}
{"@t":"2024-06-26T00:07:29.1300690Z","@m":"HTTP \"POST\" \"/api/auth/register\" responded 500 in 3433.6756 ms","@i":"62d0885c","@l":"Error","@tr":"3ae756bb077c227e59b53f83d000cfb1","@sp":"42d129d153295c09","RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":500,"Elapsed":3433.6756,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4LEEU6ADDD:00000001","ConnectionId":"0HN4LEEU6ADDD"}
{"@t":"2024-06-26T00:08:47.1994299Z","@m":"Error creating account","@i":"696392d8","@l":"Error","@x":"System.Exception: Password must be at least 8 characters long., Password must contain at least one uppercase letter., Password must contain at least one special character.\r\n   at AccountsService.Services.UserService.RegisterUser(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Services\\UserService.cs:line 40\r\n   at AccountsService.Controllers.AuthController.Register(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Controllers\\AuthController.cs:line 32","@tr":"1f365e46c5df50787e1ca9c0f6d9f61d","@sp":"8490b23639a674e2","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"0df356e1-5475-4045-8872-67c903ef1be0","ActionName":"AccountsService.Controllers.AuthController.Register (AccountsService)","RequestId":"0HN4LEEU6ADDE:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN4LEEU6ADDE"}
{"@t":"2024-06-26T00:08:47.2364075Z","@m":"HTTP \"POST\" \"/api/auth/register\" responded 500 in 296.8328 ms","@i":"62d0885c","@l":"Error","@tr":"1f365e46c5df50787e1ca9c0f6d9f61d","@sp":"8490b23639a674e2","RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":500,"Elapsed":296.8328,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4LEEU6ADDE:00000001","ConnectionId":"0HN4LEEU6ADDE"}
{"@t":"2024-06-26T00:10:05.3626386Z","@m":"User registered successfully","@i":"1cb989ea","@tr":"238305bdad975e6cda315c925517ada9","@sp":"2904409a0fb31fc5","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"0df356e1-5475-4045-8872-67c903ef1be0","ActionName":"AccountsService.Controllers.AuthController.Register (AccountsService)","RequestId":"0HN4LEEU6ADDF:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN4LEEU6ADDF"}
{"@t":"2024-06-26T00:10:05.4005530Z","@m":"HTTP \"POST\" \"/api/auth/register\" responded 201 in 5675.7382 ms","@i":"62d0885c","@tr":"238305bdad975e6cda315c925517ada9","@sp":"2904409a0fb31fc5","RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":201,"Elapsed":5675.7382,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4LEEU6ADDF:00000001","ConnectionId":"0HN4LEEU6ADDF"}
{"@t":"2024-06-26T00:17:49.5375717Z","@m":"Error creating account","@i":"696392d8","@l":"Error","@x":"System.Exception: Username 'reagan@gmail.com' is already taken.\r\n   at AccountsService.Services.UserService.RegisterUser(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Services\\UserService.cs:line 61\r\n   at AccountsService.Controllers.AuthController.Register(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Controllers\\AuthController.cs:line 32","@tr":"4e89f5063621e1d64529895569bb6321","@sp":"f0064253f1cceaf6","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"7789fa5c-2ced-4965-b85e-2a02659d138e","ActionName":"AccountsService.Controllers.AuthController.Register (AccountsService)","RequestId":"0HN4LEL9RR5CO:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN4LEL9RR5CO"}
{"@t":"2024-06-26T00:17:49.6930993Z","@m":"HTTP \"POST\" \"/api/auth/register\" responded 500 in 3411.9572 ms","@i":"62d0885c","@l":"Error","@tr":"4e89f5063621e1d64529895569bb6321","@sp":"f0064253f1cceaf6","RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":500,"Elapsed":3411.9572,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4LEL9RR5CO:00000001","ConnectionId":"0HN4LEL9RR5CO"}
{"@t":"2024-06-26T00:31:04.3146816Z","@m":"Error creating account","@i":"696392d8","@l":"Error","@x":"System.Exception: Username 'reagan@gmail.com' is already taken.\r\n   at AccountsService.Services.UserService.RegisterUser(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Services\\UserService.cs:line 61\r\n   at AccountsService.Controllers.AuthController.Register(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Controllers\\AuthController.cs:line 32","@tr":"da9fc8778e2c3b078eb37179514707a0","@sp":"c66b253735d462d7","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"7bd02712-db16-4d24-b72c-0fc559c92442","ActionName":"AccountsService.Controllers.AuthController.Register (AccountsService)","RequestId":"0HN4LESTL21Q6:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN4LESTL21Q6"}
{"@t":"2024-06-26T00:31:04.4351602Z","@m":"HTTP \"POST\" \"/api/auth/register\" responded 500 in 2873.9553 ms","@i":"62d0885c","@l":"Error","@tr":"da9fc8778e2c3b078eb37179514707a0","@sp":"c66b253735d462d7","RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":500,"Elapsed":2873.9553,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4LESTL21Q6:00000001","ConnectionId":"0HN4LESTL21Q6"}
{"@t":"2024-06-26T00:34:50.3717928Z","@m":"Error creating account","@i":"696392d8","@l":"Error","@x":"System.Exception: Username 'reagan@gmail.com' is already taken.\r\n   at AccountsService.Services.UserService.RegisterUser(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Services\\UserService.cs:line 61\r\n   at AccountsService.Controllers.AuthController.Register(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Controllers\\AuthController.cs:line 32","@tr":"454d374419c884e364af3f34d94300dc","@sp":"2af6ebf1eb64a2af","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"2d1aa76b-3dba-4838-81d7-f4dd8238a107","ActionName":"AccountsService.Controllers.AuthController.Register (AccountsService)","RequestId":"0HN4LEV14H14C:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN4LEV14H14C"}
{"@t":"2024-06-26T00:34:50.4916762Z","@m":"HTTP \"POST\" \"/api/auth/register\" responded 500 in 3259.2155 ms","@i":"62d0885c","@l":"Error","@tr":"454d374419c884e364af3f34d94300dc","@sp":"2af6ebf1eb64a2af","RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":500,"Elapsed":3259.2155,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4LEV14H14C:00000001","ConnectionId":"0HN4LEV14H14C"}
{"@t":"2024-06-26T16:05:00.1540933Z","@m":"HTTP \"POST\" \"/api/Auth/refresh-token\" responded 400 in 1632.1075 ms","@i":"62d0885c","@tr":"5dfac3a5830c6a3d508b797f6b07b98e","@sp":"0324f70bbf25d38d","RequestMethod":"POST","RequestPath":"/api/Auth/refresh-token","StatusCode":400,"Elapsed":1632.1075,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4LV6QAH8HK:00000001","ConnectionId":"0HN4LV6QAH8HK"}
{"@t":"2024-06-26T16:23:30.5743321Z","@m":"HTTP \"POST\" \"/api/Auth/logout\" responded 401 in 51.4564 ms","@i":"62d0885c","@tr":"1a9c85c767dedd7b9c19a3c199ef58f5","@sp":"08836f9082ccb893","RequestMethod":"POST","RequestPath":"/api/Auth/logout","StatusCode":401,"Elapsed":51.4564,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4LV6QAH8HL:00000001","ConnectionId":"0HN4LV6QAH8HL"}
{"@t":"2024-06-26T16:34:16.9849381Z","@m":"Login error: User with email string not found","@i":"15e6fa88","@l":"Error","@tr":"6b64d09ad3617d14e2fc9ca989fe790c","@sp":"9f60354a310b18f4","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"b80029b8-819b-4092-9425-6cb72d1beedb","ActionName":"AccountsService.Controllers.AuthController.Login (AccountsService)","RequestId":"0HN4LV6QAH8HM:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HN4LV6QAH8HM"}
{"@t":"2024-06-26T16:34:16.9978032Z","@m":"HTTP \"POST\" \"/api/Auth/login\" responded 401 in 2660.2299 ms","@i":"62d0885c","@tr":"6b64d09ad3617d14e2fc9ca989fe790c","@sp":"9f60354a310b18f4","RequestMethod":"POST","RequestPath":"/api/Auth/login","StatusCode":401,"Elapsed":2660.2299,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4LV6QAH8HM:00000001","ConnectionId":"0HN4LV6QAH8HM"}
{"@t":"2024-06-26T16:35:58.1930486Z","@m":"Error creating account","@i":"696392d8","@l":"Error","@x":"System.Exception: Invalid email format, Invalid phone number format., Password must be at least 8 characters long., Password must contain at least one uppercase letter., Password must contain at least one numeric character., Password must contain at least one special character.\r\n   at AccountsService.Services.UserService.RegisterUser(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Services\\UserService.cs:line 40\r\n   at AccountsService.Controllers.AuthController.Register(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Controllers\\AuthController.cs:line 36","@tr":"000146cb95f8fe4d311671be8a27103d","@sp":"1073265853bcd2e6","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"467077cf-45f4-4ff6-9ecb-9cfed3f53473","ActionName":"AccountsService.Controllers.AuthController.Register (AccountsService)","RequestId":"0HN4LV6QAH8HN:00000001","RequestPath":"/api/Auth/register","ConnectionId":"0HN4LV6QAH8HN"}
{"@t":"2024-06-26T16:35:58.3363649Z","@m":"HTTP \"POST\" \"/api/Auth/register\" responded 500 in 372.4099 ms","@i":"62d0885c","@l":"Error","@tr":"000146cb95f8fe4d311671be8a27103d","@sp":"1073265853bcd2e6","RequestMethod":"POST","RequestPath":"/api/Auth/register","StatusCode":500,"Elapsed":372.4099,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4LV6QAH8HN:00000001","ConnectionId":"0HN4LV6QAH8HN"}
{"@t":"2024-06-26T16:59:38.4809668Z","@m":"HTTP \"POST\" \"/api/Auth/refresh-token\" responded 400 in 343.6712 ms","@i":"62d0885c","@tr":"36b7a6812ddd9c85d0fac73f152ec9f8","@sp":"a7025f6e18ac763c","RequestMethod":"POST","RequestPath":"/api/Auth/refresh-token","StatusCode":400,"Elapsed":343.6712,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4M05C67AN3:00000001","ConnectionId":"0HN4M05C67AN3"}
{"@t":"2024-06-26T20:45:34.0206100Z","@m":"Error creating account","@i":"696392d8","@l":"Error","@x":"System.Exception: Invalid email format, Invalid phone number format., Password must be at least 8 characters long., Password must contain at least one uppercase letter., Password must contain at least one numeric character., Password must contain at least one special character.\r\n   at AccountsService.Services.UserService.RegisterUser(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Services\\UserService.cs:line 40\r\n   at AccountsService.Controllers.AuthController.Register(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Controllers\\AuthController.cs:line 36","@tr":"40936869e23bae144e58404030daec4e","@sp":"c60d2ea79c003523","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"65182d69-7d7c-4bcb-9652-aef5fc5b6897","ActionName":"AccountsService.Controllers.AuthController.Register (AccountsService)","RequestId":"0HN4M41O1KVK3:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN4M41O1KVK3"}
{"@t":"2024-06-26T20:45:34.3124116Z","@m":"HTTP \"POST\" \"/api/auth/register\" responded 500 in 3925.5949 ms","@i":"62d0885c","@l":"Error","@tr":"40936869e23bae144e58404030daec4e","@sp":"c60d2ea79c003523","RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":500,"Elapsed":3925.5949,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4M41O1KVK3:00000001","ConnectionId":"0HN4M41O1KVK3"}
{"@t":"2024-06-26T20:47:28.7531702Z","@m":"Error creating account","@i":"696392d8","@l":"Error","@x":"System.Exception: Username 'reagan@gmail.com' is already taken.\r\n   at AccountsService.Services.UserService.RegisterUser(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Services\\UserService.cs:line 61\r\n   at AccountsService.Controllers.AuthController.Register(CreateUserRequest request) in C:\\Users\\REAGAN\\Documents\\Dev\\C#\\AuctionBiddingApp\\AccountsService\\Controllers\\AuthController.cs:line 36","@tr":"4b1d1ac0c59ad685cf6e2c3e97e62ec2","@sp":"8ad2c137267f5474","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"65182d69-7d7c-4bcb-9652-aef5fc5b6897","ActionName":"AccountsService.Controllers.AuthController.Register (AccountsService)","RequestId":"0HN4M41O1KVK4:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HN4M41O1KVK4"}
{"@t":"2024-06-26T20:47:28.8200884Z","@m":"HTTP \"POST\" \"/api/auth/register\" responded 500 in 7039.9117 ms","@i":"62d0885c","@l":"Error","@tr":"4b1d1ac0c59ad685cf6e2c3e97e62ec2","@sp":"8ad2c137267f5474","RequestMethod":"POST","RequestPath":"/api/auth/register","StatusCode":500,"Elapsed":7039.9117,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4M41O1KVK4:00000001","ConnectionId":"0HN4M41O1KVK4"}
{"@t":"2024-06-26T20:55:58.5987881Z","@m":"Failed executing DbCommand (\"105\"ms) [Parameters=[\"@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?' (DbType = DateTime), @p21='?', @p22='?' (DbType = DateTime), @p23='?', @p24='?', @p25='?'\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"UPDATE \\\"AspNetUsers\\\" SET \\\"AccessFailedCount\\\" = @p0, \\\"ConcurrencyStamp\\\" = @p1, \\\"Email\\\" = @p2, \\\"EmailConfirmed\\\" = @p3, \\\"FirstName\\\" = @p4, \\\"LastName\\\" = @p5, \\\"LockoutEnabled\\\" = @p6, \\\"LockoutEnd\\\" = @p7, \\\"NormalizedEmail\\\" = @p8, \\\"NormalizedUserName\\\" = @p9, \\\"PasswordHash\\\" = @p10, \\\"PhoneNumber\\\" = @p11, \\\"PhoneNumberConfirmed\\\" = @p12, \\\"SecurityStamp\\\" = @p13, \\\"TwoFactorEnabled\\\" = @p14, \\\"UserName\\\" = @p15\r\nWHERE \\\"Id\\\" = @p16 AND \\\"ConcurrencyStamp\\\" = @p17;\r\nINSERT INTO \\\"RefreshToken\\\" (\\\"Created\\\", \\\"CreatedByIp\\\", \\\"Expires\\\", \\\"ReplacedByToken\\\", \\\"Revoked\\\", \\\"RevokedByIp\\\", \\\"Token\\\", \\\"UserId\\\")\r\nVALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25)\r\nRETURNING \\\"Id\\\";\"","@i":"627a98df","@l":"Error","@tr":"873851af952146950da0156dbd9ef7d1","@sp":"11eb633825d747c3","elapsed":"105","parameters":"@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?' (DbType = DateTime), @p21='?', @p22='?' (DbType = DateTime), @p23='?', @p24='?', @p25='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"UPDATE \"AspNetUsers\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"FirstName\" = @p4, \"LastName\" = @p5, \"LockoutEnabled\" = @p6, \"LockoutEnd\" = @p7, \"NormalizedEmail\" = @p8, \"NormalizedUserName\" = @p9, \"PasswordHash\" = @p10, \"PhoneNumber\" = @p11, \"PhoneNumberConfirmed\" = @p12, \"SecurityStamp\" = @p13, \"TwoFactorEnabled\" = @p14, \"UserName\" = @p15\r\nWHERE \"Id\" = @p16 AND \"ConcurrencyStamp\" = @p17;\r\nINSERT INTO \"RefreshToken\" (\"Created\", \"CreatedByIp\", \"Expires\", \"ReplacedByToken\", \"Revoked\", \"RevokedByIp\", \"Token\", \"UserId\")\r\nVALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25)\r\nRETURNING \"Id\";","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3ed5455d-a754-4bec-ad49-5790bc4213fb","ActionName":"AccountsService.Controllers.AuthController.Login (AccountsService)","RequestId":"0HN4M48DB2T18:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HN4M48DB2T18"}
{"@t":"2024-06-26T20:55:58.9312371Z","@m":"An exception occurred in the database while saving changes for context type '\"AccountsService.Data.ApplicationDbContext\"'.\"\r\n\"\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Npgsql.PostgresException (0x80004005): 23502: null value in column \\\"RevokedByIp\\\" of relation \\\"RefreshToken\\\" violates not-null constraint\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n  Exception data:\r\n    Severity: ERROR\r\n    SqlState: 23502\r\n    MessageText: null value in column \\\"RevokedByIp\\\" of relation \\\"RefreshToken\\\" violates not-null constraint\r\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n    SchemaName: public\r\n    TableName: RefreshToken\r\n    ColumnName: RevokedByIp\r\n    File: execMain.c\r\n    Line: 2009\r\n    Routine: ExecConstraints\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\"","@i":"170f029e","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Npgsql.PostgresException (0x80004005): 23502: null value in column \"RevokedByIp\" of relation \"RefreshToken\" violates not-null constraint\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n  Exception data:\r\n    Severity: ERROR\r\n    SqlState: 23502\r\n    MessageText: null value in column \"RevokedByIp\" of relation \"RefreshToken\" violates not-null constraint\r\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n    SchemaName: public\r\n    TableName: RefreshToken\r\n    ColumnName: RevokedByIp\r\n    File: execMain.c\r\n    Line: 2009\r\n    Routine: ExecConstraints\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"873851af952146950da0156dbd9ef7d1","@sp":"11eb633825d747c3","contextType":"AccountsService.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Npgsql.PostgresException (0x80004005): 23502: null value in column \"RevokedByIp\" of relation \"RefreshToken\" violates not-null constraint\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n  Exception data:\r\n    Severity: ERROR\r\n    SqlState: 23502\r\n    MessageText: null value in column \"RevokedByIp\" of relation \"RefreshToken\" violates not-null constraint\r\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n    SchemaName: public\r\n    TableName: RefreshToken\r\n    ColumnName: RevokedByIp\r\n    File: execMain.c\r\n    Line: 2009\r\n    Routine: ExecConstraints\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"3ed5455d-a754-4bec-ad49-5790bc4213fb","ActionName":"AccountsService.Controllers.AuthController.Login (AccountsService)","RequestId":"0HN4M48DB2T18:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HN4M48DB2T18"}
{"@t":"2024-06-26T20:55:59.8172050Z","@m":"Login error: An error occurred while saving the entity changes. See the inner exception for details.","@i":"92d2968f","@l":"Error","@tr":"873851af952146950da0156dbd9ef7d1","@sp":"11eb633825d747c3","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"3ed5455d-a754-4bec-ad49-5790bc4213fb","ActionName":"AccountsService.Controllers.AuthController.Login (AccountsService)","RequestId":"0HN4M48DB2T18:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HN4M48DB2T18"}
{"@t":"2024-06-26T20:55:59.8526906Z","@m":"HTTP \"POST\" \"/api/Auth/login\" responded 401 in 4895.4362 ms","@i":"62d0885c","@tr":"873851af952146950da0156dbd9ef7d1","@sp":"11eb633825d747c3","RequestMethod":"POST","RequestPath":"/api/Auth/login","StatusCode":401,"Elapsed":4895.4362,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4M48DB2T18:00000001","ConnectionId":"0HN4M48DB2T18"}
{"@t":"2024-06-26T21:06:51.9245539Z","@m":"Failed executing DbCommand (\"36\"ms) [Parameters=[\"@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?' (DbType = DateTime), @p21='?', @p22='?' (DbType = DateTime), @p23='?', @p24='?', @p25='?'\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"UPDATE \\\"AspNetUsers\\\" SET \\\"AccessFailedCount\\\" = @p0, \\\"ConcurrencyStamp\\\" = @p1, \\\"Email\\\" = @p2, \\\"EmailConfirmed\\\" = @p3, \\\"FirstName\\\" = @p4, \\\"LastName\\\" = @p5, \\\"LockoutEnabled\\\" = @p6, \\\"LockoutEnd\\\" = @p7, \\\"NormalizedEmail\\\" = @p8, \\\"NormalizedUserName\\\" = @p9, \\\"PasswordHash\\\" = @p10, \\\"PhoneNumber\\\" = @p11, \\\"PhoneNumberConfirmed\\\" = @p12, \\\"SecurityStamp\\\" = @p13, \\\"TwoFactorEnabled\\\" = @p14, \\\"UserName\\\" = @p15\r\nWHERE \\\"Id\\\" = @p16 AND \\\"ConcurrencyStamp\\\" = @p17;\r\nINSERT INTO \\\"RefreshToken\\\" (\\\"Created\\\", \\\"CreatedByIp\\\", \\\"Expires\\\", \\\"ReplacedByToken\\\", \\\"Revoked\\\", \\\"RevokedByIp\\\", \\\"Token\\\", \\\"UserId\\\")\r\nVALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25)\r\nRETURNING \\\"Id\\\";\"","@i":"627a98df","@l":"Error","@tr":"a282b67c1671701498645ec5d6f4727b","@sp":"f933c950444d3feb","elapsed":"36","parameters":"@p16='?', @p0='?' (DbType = Int32), @p1='?', @p17='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?' (DbType = DateTime), @p21='?', @p22='?' (DbType = DateTime), @p23='?', @p24='?', @p25='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"UPDATE \"AspNetUsers\" SET \"AccessFailedCount\" = @p0, \"ConcurrencyStamp\" = @p1, \"Email\" = @p2, \"EmailConfirmed\" = @p3, \"FirstName\" = @p4, \"LastName\" = @p5, \"LockoutEnabled\" = @p6, \"LockoutEnd\" = @p7, \"NormalizedEmail\" = @p8, \"NormalizedUserName\" = @p9, \"PasswordHash\" = @p10, \"PhoneNumber\" = @p11, \"PhoneNumberConfirmed\" = @p12, \"SecurityStamp\" = @p13, \"TwoFactorEnabled\" = @p14, \"UserName\" = @p15\r\nWHERE \"Id\" = @p16 AND \"ConcurrencyStamp\" = @p17;\r\nINSERT INTO \"RefreshToken\" (\"Created\", \"CreatedByIp\", \"Expires\", \"ReplacedByToken\", \"Revoked\", \"RevokedByIp\", \"Token\", \"UserId\")\r\nVALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25)\r\nRETURNING \"Id\";","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"65ac4769-2fd5-4aff-9723-537f7297b2f9","ActionName":"AccountsService.Controllers.AuthController.Login (AccountsService)","RequestId":"0HN4M48DB2T1A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HN4M48DB2T1A"}
{"@t":"2024-06-26T21:06:52.0455444Z","@m":"An exception occurred in the database while saving changes for context type '\"AccountsService.Data.ApplicationDbContext\"'.\"\r\n\"\"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Npgsql.PostgresException (0x80004005): 23502: null value in column \\\"RevokedByIp\\\" of relation \\\"RefreshToken\\\" violates not-null constraint\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n  Exception data:\r\n    Severity: ERROR\r\n    SqlState: 23502\r\n    MessageText: null value in column \\\"RevokedByIp\\\" of relation \\\"RefreshToken\\\" violates not-null constraint\r\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n    SchemaName: public\r\n    TableName: RefreshToken\r\n    ColumnName: RevokedByIp\r\n    File: execMain.c\r\n    Line: 2009\r\n    Routine: ExecConstraints\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\"","@i":"170f029e","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Npgsql.PostgresException (0x80004005): 23502: null value in column \"RevokedByIp\" of relation \"RefreshToken\" violates not-null constraint\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n  Exception data:\r\n    Severity: ERROR\r\n    SqlState: 23502\r\n    MessageText: null value in column \"RevokedByIp\" of relation \"RefreshToken\" violates not-null constraint\r\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n    SchemaName: public\r\n    TableName: RefreshToken\r\n    ColumnName: RevokedByIp\r\n    File: execMain.c\r\n    Line: 2009\r\n    Routine: ExecConstraints\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"a282b67c1671701498645ec5d6f4727b","@sp":"f933c950444d3feb","contextType":"AccountsService.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Npgsql.PostgresException (0x80004005): 23502: null value in column \"RevokedByIp\" of relation \"RefreshToken\" violates not-null constraint\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n  Exception data:\r\n    Severity: ERROR\r\n    SqlState: 23502\r\n    MessageText: null value in column \"RevokedByIp\" of relation \"RefreshToken\" violates not-null constraint\r\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n    SchemaName: public\r\n    TableName: RefreshToken\r\n    ColumnName: RevokedByIp\r\n    File: execMain.c\r\n    Line: 2009\r\n    Routine: ExecConstraints\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"65ac4769-2fd5-4aff-9723-537f7297b2f9","ActionName":"AccountsService.Controllers.AuthController.Login (AccountsService)","RequestId":"0HN4M48DB2T1A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HN4M48DB2T1A"}
{"@t":"2024-06-26T21:06:52.4335159Z","@m":"Login error: An error occurred while saving the entity changes. See the inner exception for details.","@i":"92d2968f","@l":"Error","@tr":"a282b67c1671701498645ec5d6f4727b","@sp":"f933c950444d3feb","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"65ac4769-2fd5-4aff-9723-537f7297b2f9","ActionName":"AccountsService.Controllers.AuthController.Login (AccountsService)","RequestId":"0HN4M48DB2T1A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HN4M48DB2T1A"}
{"@t":"2024-06-26T21:06:52.4905082Z","@m":"HTTP \"POST\" \"/api/auth/login\" responded 401 in 1577.7229 ms","@i":"62d0885c","@tr":"a282b67c1671701498645ec5d6f4727b","@sp":"f933c950444d3feb","RequestMethod":"POST","RequestPath":"/api/auth/login","StatusCode":401,"Elapsed":1577.7229,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4M48DB2T1A:00000001","ConnectionId":"0HN4M48DB2T1A"}
{"@t":"2024-06-26T22:11:16.0068627Z","@m":"AccountsService.Dtos.LoginResponse","@i":"9eda8d00","@tr":"40bd5425b74bea4f4edabfcf339475b9","@sp":"16e0de7ef5dc3c0e","SourceContext":"AccountsService.Controllers.AuthController","ActionId":"72a0521c-174b-43e5-8d5d-0ae2a6f14c37","ActionName":"AccountsService.Controllers.AuthController.Login (AccountsService)","RequestId":"0HN4M5IOOOB0H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HN4M5IOOOB0H"}
{"@t":"2024-06-26T22:11:16.2203832Z","@m":"HTTP \"POST\" \"/api/auth/login\" responded 200 in 3632.6273 ms","@i":"62d0885c","@tr":"40bd5425b74bea4f4edabfcf339475b9","@sp":"16e0de7ef5dc3c0e","RequestMethod":"POST","RequestPath":"/api/auth/login","StatusCode":200,"Elapsed":3632.6273,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4M5IOOOB0H:00000001","ConnectionId":"0HN4M5IOOOB0H"}
{"@t":"2024-06-26T22:14:59.7486867Z","@m":"HTTP \"GET\" \"/api/user/current\" responded 200 in 783.5011 ms","@i":"62d0885c","@tr":"05efe2c9ee83fc652eed469440018c60","@sp":"b2e7af75a54066c3","RequestMethod":"GET","RequestPath":"/api/user/current","StatusCode":200,"Elapsed":783.5011,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN4M5IOOOB0I:00000001","ConnectionId":"0HN4M5IOOOB0I"}
